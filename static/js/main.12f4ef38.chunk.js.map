{"version":3,"sources":["hooks/useCalculator.js","components/Wrapper.js","components/Screen.js","components/ButtonBox.js","components/Button.js","App.js","index.js"],"names":["CALCULATOR_CONFIG","DIVISION_BY_ZERO","OVERFLOW","INVALID_OPERATION","ADD","SUBTRACT","MULTIPLY","DIVIDE","toLocaleString","num","String","replace","removeSpaces","math","a","b","sign","result","Error","Number","isFinite","Wrapper","_ref","children","React","createElement","className","Screen","value","error","history","role","aria-label","aria-live","aria-atomic","map","entry","index","key","ButtonBox","Button","onClick","btnValues","getAriaLabel","btn","App","calc","handlers","useCalculator","setCalc","useState","res","clearError","useCallback","prev","addToHistory","operation","numClickHandler","length","comaClickHandler","e","preventDefault","toString","includes","signClickHandler","newRes","message","equalsClickHandler","invertClickHandler","percentClickHandler","resetClickHandler","buttonClickHandler","useEffect","handleKeyPress","event","match","mappedKey","window","addEventListener","removeEventListener","flat","i","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.12f4ef38.chunk.js","sourcesContent":["import { useState, useCallback } from 'react';\n\nconst CALCULATOR_CONFIG = {\n  MAX_DIGITS: 16,\n  DECIMAL_SEPARATOR: \".\",\n  ERROR_MESSAGES: {\n    DIVISION_BY_ZERO: \"Can't divide with 0\",\n    OVERFLOW: \"Number too large\",\n    INVALID_OPERATION: \"Invalid operation\"\n  },\n  OPERATORS: {\n    ADD: \"+\",\n    SUBTRACT: \"-\",\n    MULTIPLY: \"X\",\n    DIVIDE: \"/\"\n  }\n};\n\nconst toLocaleString = (num) =>\n  String(num).replace(/(?<!\\..*)(\\d)(?=(?:\\d{3})+(?:\\.|$))/g, \"$1 \");\n\nconst removeSpaces = (num) => String(num).replace(/\\s/g, \"\");\n\nconst math = (a, b, sign) => {\n  const operations = {\n    [CALCULATOR_CONFIG.OPERATORS.ADD]: (a, b) => a + b,\n    [CALCULATOR_CONFIG.OPERATORS.SUBTRACT]: (a, b) => a - b,\n    [CALCULATOR_CONFIG.OPERATORS.MULTIPLY]: (a, b) => a * b,\n    [CALCULATOR_CONFIG.OPERATORS.DIVIDE]: (a, b) => {\n      if (b === 0) throw new Error(CALCULATOR_CONFIG.ERROR_MESSAGES.DIVISION_BY_ZERO);\n      return a / b;\n    }\n  };\n\n  const result = operations[sign](a, b);\n  if (!Number.isFinite(result)) {\n    throw new Error(CALCULATOR_CONFIG.ERROR_MESSAGES.OVERFLOW);\n  }\n  return result;\n};\n\nexport const useCalculator = () => {\n  const [calc, setCalc] = useState({\n    sign: \"\",\n    num: \"0\",\n    res: \"0\",\n    error: null,\n    history: []\n  });\n\n  const clearError = useCallback(() => {\n    setCalc(prev => ({ ...prev, error: null }));\n  }, []);\n\n  const addToHistory = useCallback((operation) => {\n    setCalc(prev => ({\n      ...prev,\n      history: [...prev.history, operation]\n    }));\n  }, []);\n\n  const numClickHandler = useCallback((value) => {\n    clearError();\n    const currentNum = removeSpaces(calc.num);\n    if (currentNum.length < CALCULATOR_CONFIG.MAX_DIGITS) {\n      setCalc(prev => ({\n        ...prev,\n        num: prev.num === \"0\" ? String(value) : prev.num + value,\n        res: !prev.sign ? \"0\" : prev.res,\n      }));\n    }\n  }, [calc.num, clearError]);\n\n  const comaClickHandler = useCallback((e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    clearError();\n    setCalc(prev => ({\n      ...prev,\n      num: !prev.num.toString().includes(CALCULATOR_CONFIG.DECIMAL_SEPARATOR) \n        ? prev.num + CALCULATOR_CONFIG.DECIMAL_SEPARATOR \n        : prev.num,\n    }));\n  }, [clearError]);\n\n  const signClickHandler = useCallback((value) => {\n    clearError();\n    try {\n      setCalc(prev => {\n        if (prev.sign && prev.num && prev.res !== \"0\") {\n          const newRes = toLocaleString(\n            math(\n              Number(removeSpaces(prev.res)),\n              Number(removeSpaces(prev.num)),\n              prev.sign\n            )\n          );\n          addToHistory(`${prev.res} ${prev.sign} ${prev.num} = ${newRes}`);\n          return {\n            ...prev,\n            sign: value,\n            res: newRes,\n            num: \"0\",\n          };\n        }\n        \n        return {\n          ...prev,\n          sign: value,\n          res: prev.num || prev.res,\n          num: \"0\",\n        };\n      });\n    } catch (error) {\n      setCalc(prev => ({ ...prev, error: error.message }));\n    }\n  }, [clearError, addToHistory]);\n\n  const equalsClickHandler = useCallback(() => {\n    if (calc.sign && calc.num) {\n      try {\n        setCalc(prev => {\n          const result = prev.num === \"0\" && prev.sign === \"/\"\n            ? CALCULATOR_CONFIG.ERROR_MESSAGES.DIVISION_BY_ZERO\n            : toLocaleString(\n                math(\n                  Number(removeSpaces(prev.res)),\n                  Number(removeSpaces(prev.num)),\n                  prev.sign\n                )\n              );\n\n          addToHistory(`${prev.res} ${prev.sign} ${prev.num} = ${result}`);\n\n          return {\n            ...prev,\n            res: result,\n            sign: \"\",\n            num: \"0\",\n          };\n        });\n      } catch (error) {\n        setCalc(prev => ({ ...prev, error: error.message }));\n      }\n    }\n  }, [calc.sign, calc.num, addToHistory]);\n\n  const invertClickHandler = useCallback(() => {\n    clearError();\n    setCalc(prev => ({\n      ...prev,\n      num: prev.num !== \"0\" ? String(-Number(removeSpaces(prev.num))) : \"0\",\n      res: prev.res !== \"0\" ? String(-Number(removeSpaces(prev.res))) : \"0\",\n      sign: \"\",\n    }));\n  }, [clearError]);\n\n  const percentClickHandler = useCallback(() => {\n    clearError();\n    setCalc(prev => {\n      const num = prev.num !== \"0\" ? String(Number(removeSpaces(prev.num)) / 100) : \"0\";\n      const res = prev.res !== \"0\" ? String(Number(removeSpaces(prev.res)) / 100) : \"0\";\n      return {\n        ...prev,\n        num,\n        res,\n        sign: \"\",\n      };\n    });\n  }, [clearError]);\n\n  const resetClickHandler = useCallback(() => {\n    clearError();\n    setCalc({\n      sign: \"\",\n      num: \"0\",\n      res: \"0\",\n      error: null,\n      history: []\n    });\n  }, [clearError]);\n\n  const buttonClickHandler = useCallback((e, btn) => {\n    if (e) {\n      e.preventDefault();\n    }\n    if (btn === \"C\" || calc.res === CALCULATOR_CONFIG.ERROR_MESSAGES.DIVISION_BY_ZERO) {\n      resetClickHandler();\n    } else if (btn === \"+-\") {\n      invertClickHandler();\n    } else if (btn === \"%\") {\n      percentClickHandler();\n    } else if (btn === \"=\") {\n      equalsClickHandler();\n    } else if ([\"/\", \"X\", \"-\", \"+\"].includes(btn)) {\n      signClickHandler(btn);\n    } else if (btn === \".\") {\n      comaClickHandler(e);\n    } else {\n      numClickHandler(btn);\n    }\n  }, [\n    calc.res,\n    resetClickHandler,\n    invertClickHandler,\n    percentClickHandler,\n    equalsClickHandler,\n    signClickHandler,\n    comaClickHandler,\n    numClickHandler\n  ]);\n\n  return {\n    calc,\n    handlers: {\n      numClickHandler,\n      signClickHandler,\n      equalsClickHandler,\n      comaClickHandler,\n      invertClickHandler,\n      percentClickHandler,\n      resetClickHandler,\n      buttonClickHandler\n    }\n  };\n}; ","import React from \"react\";\nimport \"./Wrapper.css\";\n\nconst Wrapper = ({ children }) => {\n  return <div className=\"wrapper\">{children}</div>;\n};\n\nexport default Wrapper;\n","import React from \"react\";\nimport \"./Screen.css\";\n\nconst Screen = ({ value, error, history }) => {\n  return (\n    <div className=\"display-section\">\n      <div \n        className={`screen ${error ? 'error' : ''}`}\n        role=\"textbox\"\n        aria-label=\"Calculator Display\"\n        aria-live=\"polite\"\n      >\n        <div className={error ? 'error-message' : 'screen-content'} aria-atomic=\"true\">\n          {error || value}\n        </div>\n      </div>\n      <div className=\"history\" role=\"log\" aria-label=\"Calculation History\">\n        {history?.map((entry, index) => (\n          <div key={index} className=\"history-entry\">{entry}</div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Screen;\n","import React from \"react\";\nimport \"./ButtonBox.css\";\n\nconst ButtonBox = ({ children }) => {\n  return <div className=\"buttonBox\">{children}</div>;\n};\n\nexport default ButtonBox;\n","import React from \"react\";\nimport \"./Button.css\";\n\nconst Button = ({ className, value, onClick }) => {\n  return (\n    <button className={className} onClick={onClick}>\n      {value}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useEffect } from \"react\";\nimport { useCalculator } from \"./hooks/useCalculator\";\n\nimport Wrapper from \"./components/Wrapper\";\nimport Screen from \"./components/Screen\";\nimport ButtonBox from \"./components/ButtonBox\";\nimport Button from \"./components/Button\";\n\nconst btnValues = [\n  [\"C\", \"+-\", \"%\", \"/\"],\n  [7, 8, 9, \"X\"],\n  [4, 5, 6, \"-\"],\n  [1, 2, 3, \"+\"],\n  [0, \".\", \"=\"],\n];\n\nconst App = () => {\n  const { calc, handlers } = useCalculator();\n\n  useEffect(() => {\n    const handleKeyPress = (event) => {\n      // Prevent default behavior for calculator keys\n      if (event.key.match(/^[0-9.]$/) || \"+-*/=Enter\".includes(event.key)) {\n        event.preventDefault();\n      }\n\n      // Number keys\n      if (event.key.match(/^[0-9]$/)) {\n        handlers.numClickHandler(event.key);\n        return;\n      }\n\n      // Operator mapping\n      const operatorMap = {\n        '+': '+',\n        '-': '-',\n        '*': 'X',\n        '/': '/',\n        'Enter': '=',\n        '=': '=',\n        'Escape': 'C',\n        '.': '.',\n      };\n\n      const mappedKey = operatorMap[event.key];\n      if (mappedKey) {\n        handlers.buttonClickHandler(null, mappedKey);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [handlers]);\n\n  // Determine what to display based on calculator state\n  const getDisplayValue = () => {\n    if (calc.error) return calc.error;\n    \n    // If we're entering a new number\n    if (calc.num !== \"0\") {\n      return calc.num;\n    }\n    \n    // If we have a result and an operator\n    if (calc.res !== \"0\" && calc.sign) {\n      return `${calc.res} ${calc.sign}`;\n    }\n    \n    // Just show the result\n    return calc.res;\n  };\n\n  return (\n    <Wrapper>\n      <Screen \n        value={getDisplayValue()}\n        error={calc.error}\n        history={calc.history}\n      />\n      <ButtonBox>\n        {btnValues.flat().map((btn, i) => {\n          return (\n            <Button\n              key={i}\n              className={btn === \"=\" ? \"equals\" : \"\"}\n              value={btn}\n              onClick={(e) => handlers.buttonClickHandler(e, btn)}\n              aria-label={getAriaLabel(btn)}\n            />\n          );\n        })}\n      </ButtonBox>\n    </Wrapper>\n  );\n};\n\nconst getAriaLabel = (btn) => {\n  const labels = {\n    'C': 'Clear',\n    '+-': 'Change sign',\n    '%': 'Percentage',\n    '/': 'Divide',\n    'X': 'Multiply',\n    '-': 'Subtract',\n    '+': 'Add',\n    '=': 'Equals',\n    '.': 'Decimal point'\n  };\n  return labels[btn] || `Number ${btn}`;\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport \"./index.css\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}